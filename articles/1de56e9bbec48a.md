---
title: "ã€Godotã€‘Webã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’ã™ã‚‹éš›ã®æ³¨æ„ç‚¹"
emoji: "ğŸ¦"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [Godot, GodotEngine, gamedev]
published: true
---

# ã¯ã˜ã‚ã«
Godotã§webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ãŸæ™‚ã«èº“ã„ãŸæ‰€ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚

## å‡ºåŠ›ã•ã‚ŒãŸ.htmlãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦ã‚‚å®Ÿè¡Œã§ããªã„
å‡ºåŠ›ã•ã‚ŒãŸ.htmlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§é–‹ã„ã¦ã‚‚`Failed to Fetch`ã¨è¡¨ç¤ºã•ã‚Œã¦å®Ÿè¡Œã§ãã¾ã›ã‚“ã€‚
ãƒ–ãƒ©ã‚¦ã‚¶ãŒéå¯¾å¿œã¨ã‹ãã†ã„ã†ã“ã¨ã§ã¯ãªãã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸhtmlãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹äº‹ãŒå‰æã«ãªã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚([å‚è€ƒå‹•ç”»](https://www.youtube.com/watch?v=eMGxxwOA-6g&t=512s))
Project > Exportã§HTML5ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã®è¨­å®šã‚’è¡Œã†ã¨å³ä¸Šã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸhtmlã‚’ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å®Ÿè¡Œã™ã‚‹ãƒœã‚¿ãƒ³ãŒç¾ã‚Œã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/13159caf1a9a-20221107.png)

## `print()`ã€`print_debug()`ãŒè¡¨ç¤ºã•ã‚Œãªã„
ä¸Šè¿°ã®é€šã‚Šã«ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å®Ÿè¡Œã—ã¦ã‚‚Godot Editorä¸Šã«ã¯`print()`ã€`print_debug()`ã®å†…å®¹ã¯ãŠã‚ã‹ã‚¨ãƒ©ãƒ¼ã•ãˆå‡ºåŠ›ã•ã‚Œã¾ã›ã‚“ã€‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã¨UIã¯å‹•ã„ã¦ã„ã‚‹ã®ã«åå¿œã—ãªã„...ã¨ã„ã†çŠ¶æ…‹ã«ãªã‚Šã¾ã™ã€‚
`print()`ã‚„ã‚¨ãƒ©ãƒ¼ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/11645809ede8-20221107.png)

## ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãŒwebã‚µãƒ¼ãƒãƒ¼ã®ã‚‚ã®ã«ãªã£ã¦ã„ã‚‹
`access=FileDialog.ACCESS_FILESYSTEM`ã¨è¨­å®šã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã•ã›ã‚ˆã†ã¨æ€ã£ãŸã‚‰webã‚µãƒ¼ãƒãƒ¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãŒè¡¨ç¤ºã•ã‚Œã¾ã—ãŸã€‚
![](https://storage.googleapis.com/zenn-user-upload/91162aad178d-20221107.png)
Godotå†…ã§ä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã•ã›ã‚‹ã«ã¯`JavaScript.download_buffer(buffer:PoolByteArray, name:String, mime:String)`ãŒä½¿ç”¨ã§ãã¾ã™ã€‚
ãŸã ã—JavaScriptã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã¯ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å‘ã‘ã®ãƒ“ãƒ«ãƒ‰ã§ã¯ç„¡åŠ¹ã«ãªã£ã¦ã„ã‚‹(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å ´åˆ)ç‚ºã€`OS.has_feature("JavaScript")`ã§æ¡ä»¶åˆ†å²ã•ã›ã¦JavaScriptã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãŒæœ‰åŠ¹ãªå ´åˆã®ã¿ã«å®Ÿè¡Œã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
- ä¾‹1: ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’DLã•ã›ã‚‹
    ```python
    var f:=File.new()
    f.open("temp.txt",File.WRITE)
    f.store_var("abc")
    f.close()
    f.open("temp.txt",File.READ)
    JavaScript.download_buffer(f.get_buffer(f.get_len()),"test.txt","text/plain")

    # ã‚‚ã—ãã¯
    JavaScript.download_buffer("abc".to_utf8(),"test.txt","text/plain")
    ```
- ä¾‹2: pngç”»åƒã‚’DLã•ã›ã‚‹
    ```python
    var img:Image=save_texture.get_data()
    var f:=File.new()
    img.save_png("temp.png")
    f.open("temp.png")
    JavaScript.download_buffer(f.get_buffer(f.get_len()),"test.png","image/png")

    # ã‚‚ã—ãã¯
    var img:Image=save_texture.get_data()
    JavaScript.download_buffer(img.save_png_to_buffer(),"test.png","image/png")
    ```

## html5å‘ã‘ã®ãƒã‚¤ãƒŠãƒªã¯Windowsã§ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ããªã„
Windowsã«[emsdk](https://github.com/emscripten-core/emsdk)ã‚’å°å…¥ã—ã¦ã‚‚javascriptã«ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ããªã„ã‚ˆã†ã§ã™ã€‚
ä»Šå›ã¯ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ãŠã†ã¨ã—ãŸã ã‘ã§ã™ãŒã€GDNativeã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ããªã„ã¨å›°ã‚‹ã‹ã‚‚ã€‚

## ãã®ä»–
ä½•ã‹ã‚ã‚Œã°è¿½è¨˜ã—ã¾ã™ã€‚
